function isDesktopUser(){var o="ontouchstart"in window||navigator.maxTouchPoints,e=window.innerWidth>=1024,t=window.matchMedia("(hover: hover)").matches||window.matchMedia("(hover: none)").matches,a=window.innerWidth<1024&&window.innerHeight<768;return!(o||!e||!t&&!a)}function sleep(o){return new Promise(e=>setTimeout(e,o))}async function preloadAudio(o){try{if(audioCache[o])return;const e=localStorage.getItem(o);if(e){const t=base64ToBlob(e);audioCache[o]=URL.createObjectURL(t)}else console.log(`Audio data for ${o} not found in localStorage.`),await fetchAudioData(o)}catch(o){console.log("Error preloading audio: "+o)}}async function fetchAudioData(o){try{const e=await fetch("https://cdn.theflyingrat.com/audio/joeymanani/"+o+".mp3"),t=await e.arrayBuffer(),a=new Blob([t],{type:"audio/mpeg"}),n=new FileReader;n.onload=function(){const e=n.result;audioCache[o]=URL.createObjectURL(a),localStorage.setItem(o,e)},n.readAsDataURL(a)}catch(o){console.log("Error fetching audio data: "+o)}}function playSound(o){try{if(audioCache[o]){const e=audioThread1.paused?audioThread1:audioThread2;e.src=audioCache[o];const t=e.play();void 0!==t&&t.catch(function(o){console.log("User didn't interact with document!")})}else console.log(`Audio data for ${o} not found in cache.`)}catch(o){console.log("Couldn't play sound because of an error: "+o)}}function base64ToBlob(o){const e=o.split(";base64,"),t=e[0].split(":")[1],a=atob(e[1]),n=[];for(let o=0;o<a.length;o+=512){const e=a.slice(o,o+512),t=new Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);const c=new Uint8Array(t);n.push(c)}return new Blob(n,{type:t})}const audioThread1=new Audio,audioThread2=new Audio,audioCache={};window.addEventListener("load",function(){const o=["click","success","alert","enter","backspace","button"];o.forEach(o=>{preloadAudio(o)})});